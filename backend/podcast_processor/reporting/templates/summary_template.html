<!-- podcast_processor/reporting/templates/summary_template.html -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Model Evaluation Summary - {{ run_dir }}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { text-align: center; }
        .section { margin-bottom: 40px; }
        .section img { max-width: 100%; height: auto; }
        .transcription-link { margin-right: 10px; }
    </style>
</head>
<body>
<h1>Model Evaluation Summary</h1>
<div class="section">
    <h2>Aggregate Metrics</h2>
    <p>Average Speed and Accuracy for each model are visualized in the following plots:</p>
    <ul>
        <li><a href="whisper_models_speed_vs_accuracy_enhanced.png">Speed vs. Accuracy Scatter Plot</a></li>
        <li><a href="whisper_models_bar_charts.png">Bar Charts</a></li>
        <li><a href="whisper_models_box_plots.png">Box Plots</a></li>
        <li><a href="whisper_models_combined_performance.png">Combined Performance</a></li>
        <li><a href="whisper_models_tradeoff_frontier.png">Trade-off Frontier</a></li>
        <li><a href="whisper_models_interactive_scatter.html">Interactive Scatter Plot</a></li>
        <li><a href="whisper_models_heatmap_correlation.png">Heatmap of Correlations</a></li>
    </ul>
</div>
<div class="section">
    <h2>Transcription Differences</h2>
    <p>Click on a model to view the transcription differences and full transcripts with advertisements highlighted for each audio file:</p>
    <ul>
        {% for model in aggregated['model'] %}
        <li>
            <strong>{{ model }}</strong>
            <ul>
                {% for audio_file in audio_files %}
                <li>
                    <a href="transcription_diffs/{{ model }}/{{ audio_file }}.html">Differences for {{ audio_file }}</a><br>
                    <a href="full_transcripts/{{ model }}/{{ audio_file }}.html">Full Transcript with Ads</a>
                </li>
                {% endfor %}
            </ul>
        </li>
        {% endfor %}
    </ul>
</div>
<div class="section">
    <h2>Advertisement Detections</h2>
    <p>Advertisement detections for each transcription:</p>
    <ul>
        {% for model, detections in ad_detections.items() %}
        <li>
            <strong>{{ model }}</strong>
            <ul>
                {% for audio_file, ads in detections.items() %}
                <li>{{ audio_file }}: {{ ads }}</li>
                {% endfor %}
            </ul>
        </li>
        {% endfor %}
    </ul>
</div>
</body>
</html>
